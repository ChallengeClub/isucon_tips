## 本日のサマリー
- isucon13の過去問AMIを使って演習環境作成と接続手順を確認した
- ブラウザでアクセスできた。（その際クライアントの/hostsファイル書き換えが落とし穴なので要注意。）

## 手順
- 任意のAWSコンソールにログインしておく
- 過去問の[github](https://github.com/matsuu/aws-isucon)に接続しAMIのリストからISUCON13のAMIをクリック
- AWSコンソールでEC2の起動画面になるので、t2.micro等を選んで、公開鍵を選んで、インスタンス名を指定して、起動する。
- インスタンスのPublic IPv4 addressを調べ、ssh接続する。(ISUCON13の場合はユーザ名はubuntu)
- 接続できたらユーザを切り替えて環境を確認する

```
$ ssh -l ubuntu -i /c/Users/user/.ssh/aws_secret_key.pem public_ip_address
$ sudo su - isucon
$ ls
```

- 手元のPCのブラウザからサービスに接続する
  - 起動しているAWS EC2インスタンスのPublic IP addressを調べる
  - hostsファイルを書き換え（C:\Windows\System32\drivers\etc\hosts）

```
13.230.87.202 pipe.u.isucon.local
13.230.87.202 test001.u.isucon.local
```
ここで、isuconの本戦中はpipe.u.isucon.devの様に.devドメインを使っていたが練習用は.localを使う様に設定されているので注意する。  
（詳細は[本来の設定と異なるところ](https://github.com/matsuu/aws-isucon/tree/main/isucon13)参照。.devはHSTSの関係でhostsが効かない。）  
`http://pipe.u.isucon.local`にアクセスすると以下のページが表示される。  

<br/>
<img src="./images/2024-10-03-isupipe.png" width="50%">
