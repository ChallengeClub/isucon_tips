# isucon12qアプリ構成の確認
k6でシナリオに沿ってアプリAPIを呼べるようになったので、isucon12qのアプリ構成を解析。  
Goのコードの様子や、Dockerで環境が用意されていることを確認。  

## 調査(1) API調査
- ブラウザでisuportsサイトにログインし、使用APIをインスペクタで確認して、APIをどんな順で呼んでいるか調査。
- それを元にk6で/api/meを呼ぶのに成功。
## 調査(2) エラー調査
- とはいえ、ブラウザでテナント追加などの操作をしてもエラーで進めないのが謎。
- ブラウザでadminでログインし、テナント追加できず、アプリサーバーがちゃんと動作してなさそうなので、go実装を見たら、ログ出してるところはあったが、どこに出してるかわからず、当てずっぽでsyslog見たら、エラーが出力されており、データベースっぽいエラー出てることが判明 
    - 500エラーはnginxでなくgo appから出ているらしい。(var/log/nginx/errer.logにない)
	- appエラーは、syslogのエラーに出す設定の模様
	- さらにアプリケーションの構成をソース(webapp/go/isuports.go)で確認した。
	    - Dockerを使っている。ymlfileとDockerファイルが有った。
		- dockerの基本コマンドの勉強が必要。（未実施）
		- dockerは、アプリサーバーがどの言語の実装が動いているか調べた->go版がsystemdからdocker経由で動作してることが判明
	- app改変前にwebappのgithub登録が必要。（未実施）
	- 後半はVSコードでログ見る権限ない問題ではまってた。
        - .ssh/configにRemoreCommand　sudo su - ISUCONを追記したがいまいち。
